<!DOCTYPE html>
<html>
<head>
    <title>Memory Game</title>
    <style>
        #game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 10px;
            width: 100vw;
            height: 100vh;
            justify-items: center;
            align-items: center;
        }
        .card {
            width: 100px;
            height: 100px;
            background: #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
        }
        .card.flipped, .card.matched {
            background: #fff;
        }
        .card.flipped::before, .card.matched::before {
            content: attr(data-emoji);
        }
        .card.matched {
            visibility: hidden;
        }
    </style>
</head>
<body>
    <div id="game-board">
        <!-- The game board will be populated here -->
    </div>

    <script>
        // Define an array of 4 pairs of emojis and a joker
        const emojis = ['😀', '😀', '😃', '😃', '😄', '😄', '😁', '😁', '🃏'];

        // Function to shuffle array, ensuring that the joker is always at the end
        function shuffle(array) {
            let currentIndex = array.length - 1, temporaryValue, randomIndex;
            while (0 !== currentIndex) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
        }

        // Populate the game board with shuffled emojis and add event listeners
        const gameBoard = document.getElementById('game-board');
        const shuffledEmojis = shuffle(emojis);
        let flippedCards = [];
        for (let i = 0; i < 9; i++) {
            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.emoji = shuffledEmojis[i];
            function flipCard() {
                this.classList.add('flipped');
                flippedCards.push(this);
                if (flippedCards.length === 2) {
                    if (flippedCards[0].dataset.emoji === flippedCards[1].dataset.emoji) {
                        flippedCards[0].classList.add('matched');
                        flippedCards[1].classList.add('matched');
                        flippedCards = [];
                    } else {
                        setTimeout(function() {
                            flippedCards[0].classList.remove('flipped');
                            flippedCards[1].classList.remove('flipped');
                            flippedCards = [];
                        }, 1000);
                    }
                }
            }
            card.addEventListener('click', flipCard);
            gameBoard.appendChild(card);
        }
    </script>
</body>
</html>
